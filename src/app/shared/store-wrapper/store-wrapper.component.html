<ng-container *ngIf="state$ | async as state">
  <ng-container *ngIf="state === 'READY'; else loading">
    <ng-content></ng-content>
  </ng-container>
</ng-container>

<ng-template #loading>
  <mat-progress-bar
    [color]="'accent'"
    [mode]="'indeterminate'"
  ></mat-progress-bar>

  <app-skeleton-card></app-skeleton-card>
</ng-template>
